import{b as k,c as P,d as N,e as j,f as W,g as $,h as A,i as B,j as U,k as z,l as H}from"./chunk-7M7DTZZT.js";import{A as v,Da as S,Fa as G,G as u,Ga as D,H as y,K as I,Ma as L,Oa as _,Pa as F,Ra as T,X as M,Y as m,Z as f,aa as x,ca as d,ga as o,ha as r,ia as s,ja as b,ka as R,na as O,oa as w,pb as E,ra as C,wa as c,ya as h}from"./chunk-K4GFJG2A.js";var q=i=>({width:i});function X(i,g){if(i&1&&(o(0,"tr",6),b(1),o(2,"td"),s(3,"img",7),c(4),r(),o(5,"td"),c(6),s(7,"div",8),r(),o(8,"td"),c(9),s(10,"div",8),r(),R(),r()),i&2){let e=g.$implicit,t=w();m(3),C("src","/assets/items/"+e.item.replace("item_","")+".png",M),C("alt",e.item),m(),h(" ",t.isSmallScreen?"":e.item.split("_").join(" ").replace("item ","")," "),m(2),h(" ",e.compGames?(e.compGames/t.TotalSample*100).toFixed(2)+"%":"N/A"," "),m(),d("ngStyle",S(7,q,t.getPercent(e.compGames/t.TotalSample*18))),m(2),h(" ",e.compGames?(e.compWins/e.compGames*100).toFixed(2)+"%":"N/A"," "),m(),d("ngStyle",S(9,q,t.getPercent(e.compWins/e.compGames)))}}var K=(()=>{class i{breakpointObserver;ItemRecordList;CondencedItemRecords;sortedData;TotalSample;isSmallScreen;constructor(e){this.breakpointObserver=e}ngOnChanges(e){if(e.ItemRecordList){this.CondencedItemRecords||(this.CondencedItemRecords=[]),this.TotalSample=0,this.ItemRecordList&&this.ItemRecordList.Content.forEach(n=>{n.item&&!n.item.includes("lorne")&&!n.item.includes("caulk")&&!n.item.includes("combo")&&(this.CondencedItemRecords.push(n),this.TotalSample=this.TotalSample+n.compGames)});let t=this.CondencedItemRecords.slice();this.sortedData=t,this.sortedData=t.sort((n,a)=>l(new Date(n.compGames),new Date(a.compGames),!1))}}ngOnInit(){this.isSmallScreen=this.breakpointObserver.isMatched("(max-width: 599px)"),this.breakpointObserver.observe(["(min-width: 500px)"]).subscribe(e=>{this.isSmallScreen=this.breakpointObserver.isMatched("(max-width: 599px)")})}sortData(e){let t=this.CondencedItemRecords.slice();if(!e.active||e.direction===""){this.sortedData=t;return}this.sortedData=t.sort((n,a)=>{let p=e.direction==="asc";switch(e.active){case"name":return l(n.item,a.item,p);case"games":return l(n.compGames,a.compGames,p);case"winper":return l(n.compGames>0?n.compWins/n.compGames:-1,a.compGames>0?a.compWins/a.compGames:-1,p);default:return l(n.compGames,a.compGames,p)}})}getPercent(e){return`${e*100}%`}static \u0275fac=function(t){return new(t||i)(f(k))};static \u0275cmp=u({type:i,selectors:[["items-list"]],inputs:{ItemRecordList:"ItemRecordList"},features:[I],decls:11,vars:1,consts:[["matSort","",1,"table","table-striped","table-hover","small",3,"matSortChange"],[1,"bg-gray-100","text-gray-500"],["mat-sort-header","name"],["mat-sort-header","games","title","Only counts games with >5 players"],["mat-sort-header","winper","title","Only counts games with >5 players"],["class","innerRow",4,"ngFor","ngForOf"],[1,"innerRow"],[1,"item-icons",3,"src","alt"],[1,"segment",3,"ngStyle"]],template:function(t,n){t&1&&(o(0,"table",0),O("matSortChange",function(p){return n.sortData(p)}),o(1,"thead",1)(2,"tr")(3,"th",2),c(4,"Item"),r(),o(5,"th",3),c(6," Use Rate "),r(),o(7,"th",4),c(8," Competitive Win Rate "),r()()(),o(9,"tbody"),x(10,X,11,11,"tr",5),r()()),t&2&&(m(10),d("ngForOf",n.sortedData))},dependencies:[L,_,W,$],styles:[".segment[_ngcontent-%COMP%]{background-color:#000;height:4px}.item-icons[_ngcontent-%COMP%]{height:30px}.innerRow[_ngcontent-%COMP%]:hover{cursor:default}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.1rem}"]})}return i})();function l(i,g,e){return(i<g?-1:1)*(e?1:-1)}var Q=(()=>{class i{ItemRecordList$;constructor(e){this.ItemRecordList$=e.getItemData()}ngOnInit(){}static \u0275fac=function(t){return new(t||i)(f(U))};static \u0275cmp=u({type:i,selectors:[["app-items"]],decls:5,vars:3,consts:[["text","Game Stats"],[1,"bg-gray-vertical-emboss","py-5"],[1,"container"],[3,"ItemRecordList"]],template:function(t,n){t&1&&(s(0,"app-page-banner",0),o(1,"div",1)(2,"div",2),s(3,"items-list",3),G(4,"async"),r()()),t&2&&(m(3),d("ItemRecordList",D(4,1,n.ItemRecordList$)))},dependencies:[z,K,F]})}return i})();var Z=[{path:"",component:Q}],ve=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=y({type:i});static \u0275inj=v({imports:[T,E.forChild(Z),P,N,j,A,B,H]})}return i})();export{ve as ItemsModule};
