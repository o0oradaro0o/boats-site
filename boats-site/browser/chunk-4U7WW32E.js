import{b as P,c as T,d as k,e as N,f as W,g as j,h as A,i as U,j as $,k as z,l as H}from"./chunk-7M7DTZZT.js";import{A as S,Da as v,Fa as G,G as f,Ga as D,H as y,K as b,Ma as L,Oa as _,Pa as F,Ra as E,X as M,Y as a,Z as u,aa as x,ca as d,ga as i,ha as r,ia as m,ja as B,ka as R,na as O,oa as w,pb as I,ra as C,wa as c,ya as g}from"./chunk-K4GFJG2A.js";var q=o=>({width:o});function X(o,h){if(o&1&&(i(0,"tr",6),B(1),i(2,"td"),m(3,"img",7),c(4),r(),i(5,"td"),c(6),m(7,"div",8),r(),i(8,"td"),c(9),m(10,"div",8),r(),R(),r()),o&2){let e=h.$implicit,t=w();a(3),C("src","/assets/boat-icons/"+e.item.split(" ").join("_").replace("'","")+".png",M),C("alt",e.item),a(),g(" ",t.isSmallScreen?"":e.item," "),a(2),g(" ",e.compGames?(e.compGames/t.TotalSample*100).toFixed(2)+"%":"N/A"," "),a(),d("ngStyle",v(7,q,t.getPercent(e.compGames/t.TotalSample))),a(2),g(" ",e.compGames?(e.compWins/e.compGames*100).toFixed(2)+"%":"N/A"," "),a(),d("ngStyle",v(9,q,t.getPercent(e.compWins/e.compGames)))}}var K=(()=>{class o{breakpointObserver;boatRecordList;CondensedBoatRecords;sortedData;TotalSample;isSmallScreen;constructor(e){this.breakpointObserver=e}ngOnChanges(e){if(e.boatRecordList){this.CondensedBoatRecords||(this.CondensedBoatRecords=[]),this.boatRecordList&&this.boatRecordList.Content.forEach(n=>{n.item&&(n.item==="Barrel"&&(this.TotalSample=n.compGames,n.compWins=n.compGames/2),this.CondensedBoatRecords.push(n))});let t=this.CondensedBoatRecords.slice();this.sortedData=t,this.sortedData=t.sort((n,s)=>l(new Date(n.compGames),new Date(s.compGames),!1))}}ngOnInit(){this.isSmallScreen=this.breakpointObserver.isMatched("(max-width: 599px)"),this.breakpointObserver.observe(["(min-width: 500px)"]).subscribe(e=>{this.isSmallScreen=this.breakpointObserver.isMatched("(max-width: 599px)")})}sortData(e){let t=this.CondensedBoatRecords.slice();if(!e.active||e.direction===""){this.sortedData=t;return}this.sortedData=t.sort((n,s)=>{let p=e.direction==="asc";switch(e.active){case"name":return l(n.item,s.item,p);case"games":return l(n.compGames,s.compGames,p);case"winper":return l(n.compGames>0?n.compWins/n.compGames:-1,s.compGames>0?s.compWins/s.compGames:-1,p);default:return l(n.compGames,s.compGames,p)}})}getPercent(e){return`${e*100}%`}static \u0275fac=function(t){return new(t||o)(u(P))};static \u0275cmp=f({type:o,selectors:[["boats-list"]],inputs:{boatRecordList:"boatRecordList"},features:[b],decls:11,vars:1,consts:[["matSort","",1,"table","table-striped","table-hover","small",3,"matSortChange"],[1,"bg-gray-100","text-gray-500"],["mat-sort-header","name"],["mat-sort-header","games","title","Only counts games with >5 players"],["mat-sort-header","winper","title","Only counts games with >5 players"],["class","innerRow",4,"ngFor","ngForOf"],[1,"innerRow"],[1,"boat-icons",3,"src","alt"],[1,"segment",3,"ngStyle"]],template:function(t,n){t&1&&(i(0,"table",0),O("matSortChange",function(p){return n.sortData(p)}),i(1,"thead",1)(2,"tr")(3,"th",2),c(4,"Name"),r(),i(5,"th",3),c(6," Use % "),r(),i(7,"th",4),c(8," Competitive Win % "),r()()(),i(9,"tbody"),x(10,X,11,11,"tr",5),r()()),t&2&&(a(10),d("ngForOf",n.sortedData))},dependencies:[L,_,W,j],styles:[".segment[_ngcontent-%COMP%]{background-color:#000;height:4px}.innerRow[_ngcontent-%COMP%]:hover{cursor:default}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.1rem}.boat-icons[_ngcontent-%COMP%]{height:30px}"]})}return o})();function l(o,h,e){return(o<h?-1:1)*(e?1:-1)}var Q=(()=>{class o{BoatRecordList;constructor(e){this.BoatRecordList=e.getBoatData()}ngOnInit(){}static \u0275fac=function(t){return new(t||o)(u($))};static \u0275cmp=f({type:o,selectors:[["app-boats"]],decls:5,vars:3,consts:[["text","Boat Stats"],[1,"bg-gray-vertical-emboss","py-5"],[1,"container"],[3,"boatRecordList"]],template:function(t,n){t&1&&(m(0,"app-page-banner",0),i(1,"div",1)(2,"div",2),m(3,"boats-list",3),G(4,"async"),r()()),t&2&&(a(3),d("boatRecordList",D(4,1,n.BoatRecordList)))},dependencies:[z,K,F],styles:[".innerRow[_ngcontent-%COMP%]:hover{cursor:default}"]})}return o})();var Z=[{path:"",component:Q}],Se=(()=>{class o{static \u0275fac=function(t){return new(t||o)};static \u0275mod=y({type:o});static \u0275inj=S({imports:[E,I.forChild(Z),T,k,N,A,H,U]})}return o})();export{Se as BoatsModule};
